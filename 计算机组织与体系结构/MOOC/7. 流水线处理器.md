![[Pasted image 20250319190851.png]]


流水线并不会缩短单条指令的执行时间（甚至会增加时间，因为流水线寄存器），而是提高了指令的**吞吐率**

单周期 $\to$ 标量流水线：时间并行性，切分现有的硬件资源 
标量流水线 $\to$ 超标量流水线 ：空间并行性，成倍增加硬件资源

**超标量**（**Superscalar**）：通常，具有两条或两条以上**并行**工作的流水线结构称为**超标量结构**
- 实际上和流水线技术独立
- 现代的**多核CPU**通常是在一个CPU芯片中集成了多个超标量处理器核

##### 结构冒险
所需的硬件部件正在为之前的指令工作

指令和数据放在同一个存储器：指令和数据放在不同的存储器中
读寄存器和写寄存器同时发生：前半个时钟周期写，后半个时钟周期读，并且设置独立的读写口

##### 数据冒险
需要等待之前的指令完成数据的读写、

数据前递（Forwarding）
![[Pasted image 20250319194549.png|450]]
还是无法解决的情况：Load-Use Harzard（例如lw+add）


##### 控制冒险
需要根据之前指令的结果决定下一步的行为
I型无条件：取指时确定，无影响 
R型无条件：译码时确定，1 bubble 
条件：执行时确定，2 bubbles 
- 增加额外电路，译码时确定，1 bubble

延迟转移技术：流水线不停顿